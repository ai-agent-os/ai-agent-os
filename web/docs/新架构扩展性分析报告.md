# æ–°æ¶æ„æ‰©å±•æ€§åˆ†ææŠ¥å‘Š

## ğŸ“Š åˆ†ææ—¶é—´
2025-01-27

## ğŸ¯ åˆ†æç›®æ ‡
è¯„ä¼°æ–°æ¶æ„çš„æ‰©å±•æ€§ï¼Œç‰¹åˆ«æ˜¯é’ˆå¯¹ä¼ä¸šçº§åŠŸèƒ½ï¼ˆæµç¨‹ç³»ç»Ÿã€æƒé™ç³»ç»Ÿã€å®šæ—¶ä»»åŠ¡ã€è®¿é—®æ§åˆ¶ã€cloneåŠŸèƒ½ç­‰ï¼‰çš„æ”¯æŒèƒ½åŠ›ï¼Œä»¥åŠå¯¹ç°æœ‰ç»„ä»¶çš„å½±å“ã€‚

---

## âœ… ä¸€ã€æ–°æ¶æ„æ‰©å±•æ€§ä¼˜åŠ¿

### 1.1 æ ¸å¿ƒè®¾è®¡åŸåˆ™æ”¯æŒæ‰©å±•

æ–°æ¶æ„éµå¾ªä»¥ä¸‹è®¾è®¡åŸåˆ™ï¼Œå¤©ç„¶æ”¯æŒæ‰©å±•ï¼š

#### 1.1.1 ä¾èµ–å€’ç½®åŸåˆ™ï¼ˆDIPï¼‰
- âœ… **æ‰€æœ‰å±‚éƒ½ä¾èµ–æ¥å£ï¼Œä¸ä¾èµ–å…·ä½“å®ç°**
- âœ… **å¯ä»¥è½»æ¾æ›¿æ¢å®ç°**ï¼ˆä¾‹å¦‚ï¼šä»å†…å­˜äº‹ä»¶æ€»çº¿åˆ‡æ¢åˆ° WebSocket äº‹ä»¶æ€»çº¿ï¼‰
- âœ… **æ–°å¢åŠŸèƒ½åªéœ€å®ç°æ¥å£ï¼Œä¸å½±å“ç°æœ‰ä»£ç **

**ç¤ºä¾‹**ï¼š
```typescript
// æ–°å¢æƒé™ç³»ç»Ÿï¼Œåªéœ€å®ç°æ¥å£
export class PermissionDomainService {
  constructor(
    private stateManager: IStateManager<PermissionState>,
    private eventBus: IEventBus  // ä¾èµ–æ¥å£ï¼Œä¸ä¾èµ–å…·ä½“å®ç°
  ) {}
}
```

#### 1.1.2 å¼€é—­åŸåˆ™ï¼ˆOCPï¼‰
- âœ… **å¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å…³é—­**
- âœ… **æ–°å¢åŠŸèƒ½ä¸éœ€è¦ä¿®æ”¹ç°æœ‰ä»£ç **
- âœ… **é€šè¿‡äº‹ä»¶é©±åŠ¨ï¼Œæ–°åŠŸèƒ½å¯ä»¥ç›‘å¬ç°æœ‰äº‹ä»¶**

**ç¤ºä¾‹**ï¼š
```typescript
// æ–°å¢æƒé™ç³»ç»Ÿï¼Œç›‘å¬ç°æœ‰äº‹ä»¶ï¼Œä¸éœ€è¦ä¿®æ”¹ç°æœ‰ä»£ç 
export class PermissionApplicationService {
  constructor(private eventBus: IEventBus) {
    // ç›‘å¬ç°æœ‰äº‹ä»¶ï¼Œæ·»åŠ æƒé™æ£€æŸ¥
    this.eventBus.on(WorkspaceEvent.nodeClicked, (payload) => {
      // æ£€æŸ¥æƒé™ï¼Œä¸å½±å“ç°æœ‰é€»è¾‘
      if (!this.checkPermission(payload.node)) {
        return // é˜»æ­¢æ“ä½œ
      }
    })
  }
}
```

#### 1.1.3 äº‹ä»¶é©±åŠ¨æ¶æ„
- âœ… **æ‰€æœ‰é€šä¿¡éƒ½é€šè¿‡äº‹ä»¶æ€»çº¿**
- âœ… **æ–°åŠŸèƒ½å¯ä»¥ç›‘å¬ç°æœ‰äº‹ä»¶ï¼Œä¸éœ€è¦ä¿®æ”¹ç°æœ‰ä»£ç **
- âœ… **æ–°åŠŸèƒ½å¯ä»¥è§¦å‘æ–°äº‹ä»¶ï¼Œç°æœ‰ä»£ç ä¸å—å½±å“**

**ç¤ºä¾‹**ï¼š
```typescript
// æ–°å¢æµç¨‹ç³»ç»Ÿï¼Œç›‘å¬è¡¨å•æäº¤äº‹ä»¶
export class WorkflowApplicationService {
  constructor(private eventBus: IEventBus) {
    // ç›‘å¬ç°æœ‰äº‹ä»¶ï¼Œæ·»åŠ æµç¨‹é€»è¾‘
    this.eventBus.on(FormEvent.submitted, (payload) => {
      // å¯åŠ¨å·¥ä½œæµï¼Œä¸å½±å“ç°æœ‰è¡¨å•æäº¤é€»è¾‘
      this.startWorkflow(payload)
    })
  }
}
```

### 1.2 åˆ†å±‚æ¶æ„æ”¯æŒæ‰©å±•

#### 1.2.1 Infrastructure Layerï¼ˆåŸºç¡€è®¾æ–½å±‚ï¼‰
- âœ… **å¯ä»¥è½»æ¾æ·»åŠ æ–°çš„åŸºç¡€è®¾æ–½**ï¼ˆå¦‚æƒé™ç®¡ç†å™¨ã€å®šæ—¶ä»»åŠ¡ç®¡ç†å™¨ï¼‰
- âœ… **å®ç°æ¥å£å³å¯ï¼Œä¸å½±å“ä¸Šå±‚**

**æ‰©å±•ç¤ºä¾‹**ï¼š
```typescript
// æ–°å¢æƒé™ç®¡ç†å™¨
export interface IPermissionManager {
  checkPermission(resource: string, action: string): Promise<boolean>
  getUserPermissions(userId: number): Promise<Permission[]>
}

export class PermissionManagerImpl implements IPermissionManager {
  // å®ç°æƒé™ç®¡ç†é€»è¾‘
}
```

#### 1.2.2 Domain Layerï¼ˆé¢†åŸŸå±‚ï¼‰
- âœ… **å¯ä»¥è½»æ¾æ·»åŠ æ–°çš„ Domain Service**ï¼ˆå¦‚ WorkflowDomainServiceã€PermissionDomainServiceï¼‰
- âœ… **ä¾èµ–æ¥å£ï¼Œä¸ä¾èµ–å…·ä½“å®ç°**

**æ‰©å±•ç¤ºä¾‹**ï¼š
```typescript
// æ–°å¢æµç¨‹é¢†åŸŸæœåŠ¡
export class WorkflowDomainService {
  constructor(
    private stateManager: IStateManager<WorkflowState>,
    private eventBus: IEventBus,
    private permissionManager: IPermissionManager  // ä¾èµ–æ¥å£
  ) {}
}
```

#### 1.2.3 Application Layerï¼ˆåº”ç”¨å±‚ï¼‰
- âœ… **å¯ä»¥è½»æ¾æ·»åŠ æ–°çš„ Application Service**ï¼ˆå¦‚ WorkflowApplicationServiceã€PermissionApplicationServiceï¼‰
- âœ… **é€šè¿‡äº‹ä»¶ç›‘å¬å’Œè§¦å‘å®ç°æµç¨‹ç¼–æ’**

**æ‰©å±•ç¤ºä¾‹**ï¼š
```typescript
// æ–°å¢æµç¨‹åº”ç”¨æœåŠ¡
export class WorkflowApplicationService {
  constructor(
    private domainService: WorkflowDomainService,
    private eventBus: IEventBus
  ) {
    this.setupEventHandlers()
  }
  
  private setupEventHandlers(): void {
    // ç›‘å¬ç°æœ‰äº‹ä»¶ï¼Œæ·»åŠ æµç¨‹é€»è¾‘
    this.eventBus.on(FormEvent.submitted, (payload) => {
      this.handleFormSubmitted(payload)
    })
  }
}
```

#### 1.2.4 Presentation Layerï¼ˆå±•ç¤ºå±‚ï¼‰
- âœ… **å¯ä»¥è½»æ¾æ·»åŠ æ–°çš„ View ç»„ä»¶**ï¼ˆå¦‚ WorkflowViewã€PermissionViewï¼‰
- âœ… **é€šè¿‡äº‹ä»¶ä¸ Application Layer é€šä¿¡**

**æ‰©å±•ç¤ºä¾‹**ï¼š
```vue
<!-- WorkflowView.vue -->
<template>
  <div class="workflow-view">
    <!-- æµç¨‹ç•Œé¢ -->
  </div>
</template>

<script setup lang="ts">
import { serviceFactory } from '@/architecture/infrastructure/factories'
import { eventBus, WorkflowEvent } from '@/architecture/infrastructure/eventBus'

const applicationService = serviceFactory.getWorkflowApplicationService()

// é€šè¿‡äº‹ä»¶é€šä¿¡
const handleStartWorkflow = () => {
  applicationService.triggerStartWorkflow(workflowData)
}
</script>
```

---

## âœ… äºŒã€ä¼ä¸šçº§åŠŸèƒ½æ‰©å±•æ–¹æ¡ˆ

### 2.1 æµç¨‹ç³»ç»Ÿï¼ˆWorkflow Systemï¼‰

#### 2.1.1 æ‰©å±•æ–¹æ¡ˆ

**æ¶æ„è®¾è®¡**ï¼š
```
Infrastructure Layer:
  - WorkflowEngineImplï¼ˆæµç¨‹å¼•æ“å®ç°ï¼‰
  - WorkflowStateManagerï¼ˆæµç¨‹çŠ¶æ€ç®¡ç†ï¼‰

Domain Layer:
  - WorkflowDomainServiceï¼ˆæµç¨‹ä¸šåŠ¡é€»è¾‘ï¼‰
  - å®šä¹‰æµç¨‹ç›¸å…³æ¥å£

Application Layer:
  - WorkflowApplicationServiceï¼ˆæµç¨‹ä¸šåŠ¡æµç¨‹ç¼–æ’ï¼‰
  - ç›‘å¬è¡¨å•æäº¤ã€æ•°æ®å˜æ›´ç­‰äº‹ä»¶

Presentation Layer:
  - WorkflowView.vueï¼ˆæµç¨‹ç•Œé¢ï¼‰
  - WorkflowWidget.vueï¼ˆæµç¨‹ç»„ä»¶ï¼‰
```

**å®ç°æ­¥éª¤**ï¼š
1. **åˆ›å»º Domain Service**ï¼š
```typescript
// domain/services/WorkflowDomainService.ts
export class WorkflowDomainService {
  constructor(
    private stateManager: IStateManager<WorkflowState>,
    private eventBus: IEventBus,
    private apiClient: IApiClient
  ) {}
  
  async startWorkflow(workflowConfig: WorkflowConfig): Promise<WorkflowInstance> {
    // å¯åŠ¨å·¥ä½œæµé€»è¾‘
  }
  
  async executeStep(instanceId: string, stepId: string): Promise<void> {
    // æ‰§è¡Œæµç¨‹æ­¥éª¤
  }
}
```

2. **åˆ›å»º Application Service**ï¼š
```typescript
// application/services/WorkflowApplicationService.ts
export class WorkflowApplicationService {
  constructor(
    private domainService: WorkflowDomainService,
    private eventBus: IEventBus
  ) {
    this.setupEventHandlers()
  }
  
  private setupEventHandlers(): void {
    // ç›‘å¬è¡¨å•æäº¤äº‹ä»¶ï¼Œå¯åŠ¨å·¥ä½œæµ
    this.eventBus.on(FormEvent.submitted, async (payload) => {
      await this.handleFormSubmitted(payload)
    })
    
    // ç›‘å¬æ•°æ®å˜æ›´äº‹ä»¶ï¼Œè§¦å‘æµç¨‹æ­¥éª¤
    this.eventBus.on(TableEvent.rowUpdated, async (payload) => {
      await this.handleDataUpdated(payload)
    })
  }
  
  private async handleFormSubmitted(payload: FormSubmittedPayload): Promise<void> {
    // æ£€æŸ¥æ˜¯å¦éœ€è¦å¯åŠ¨å·¥ä½œæµ
    const workflowConfig = await this.getWorkflowConfig(payload.functionDetail)
    if (workflowConfig) {
      await this.domainService.startWorkflow(workflowConfig)
    }
  }
}
```

3. **åœ¨ ServiceFactory ä¸­æ³¨å†Œ**ï¼š
```typescript
// infrastructure/factories/ServiceFactory.ts
export class ServiceFactory {
  getWorkflowDomainService(): WorkflowDomainService { ... }
  getWorkflowApplicationService(): WorkflowApplicationService { ... }
}
```

**å¯¹ç°æœ‰ç»„ä»¶çš„å½±å“**ï¼š
- âœ… **é›¶å½±å“**ï¼šæµç¨‹ç³»ç»Ÿé€šè¿‡ç›‘å¬ç°æœ‰äº‹ä»¶å·¥ä½œï¼Œä¸éœ€è¦ä¿®æ”¹ç°æœ‰ç»„ä»¶
- âœ… **ç°æœ‰ç»„ä»¶ç»§ç»­æ­£å¸¸å·¥ä½œ**ï¼šè¡¨å•æäº¤ã€æ•°æ®å˜æ›´ç­‰é€»è¾‘ä¸å—å½±å“
- âœ… **å¯ä»¥éšæ—¶å¯ç”¨/ç¦ç”¨**ï¼šé€šè¿‡é…ç½®æ§åˆ¶æ˜¯å¦å¯ç”¨æµç¨‹ç³»ç»Ÿ

### 2.2 æƒé™ç³»ç»Ÿï¼ˆPermission Systemï¼‰

#### 2.2.1 æ‰©å±•æ–¹æ¡ˆ

**æ¶æ„è®¾è®¡**ï¼š
```
Infrastructure Layer:
  - PermissionManagerImplï¼ˆæƒé™ç®¡ç†å™¨å®ç°ï¼‰
  - PermissionCacheManagerï¼ˆæƒé™ç¼“å­˜ç®¡ç†ï¼‰

Domain Layer:
  - PermissionDomainServiceï¼ˆæƒé™ä¸šåŠ¡é€»è¾‘ï¼‰
  - å®šä¹‰æƒé™ç›¸å…³æ¥å£

Application Layer:
  - PermissionApplicationServiceï¼ˆæƒé™ä¸šåŠ¡æµç¨‹ç¼–æ’ï¼‰
  - ç›‘å¬èŠ‚ç‚¹ç‚¹å‡»ã€æ•°æ®æ“ä½œç­‰äº‹ä»¶ï¼Œè¿›è¡Œæƒé™æ£€æŸ¥

Presentation Layer:
  - PermissionView.vueï¼ˆæƒé™ç®¡ç†ç•Œé¢ï¼‰
  - åœ¨ç°æœ‰ç»„ä»¶ä¸­é›†æˆæƒé™æ£€æŸ¥ï¼ˆé€šè¿‡äº‹ä»¶ï¼‰
```

**å®ç°æ­¥éª¤**ï¼š
1. **åˆ›å»ºæƒé™ç®¡ç†å™¨æ¥å£**ï¼š
```typescript
// domain/interfaces/IPermissionManager.ts
export interface IPermissionManager {
  checkPermission(resource: string, action: string): Promise<boolean>
  getUserPermissions(userId: number): Promise<Permission[]>
  hasPermission(userId: number, resource: string, action: string): Promise<boolean>
}
```

2. **åˆ›å»ºæƒé™åº”ç”¨æœåŠ¡**ï¼š
```typescript
// application/services/PermissionApplicationService.ts
export class PermissionApplicationService {
  constructor(
    private domainService: PermissionDomainService,
    private eventBus: IEventBus
  ) {
    this.setupEventHandlers()
  }
  
  private setupEventHandlers(): void {
    // ç›‘å¬èŠ‚ç‚¹ç‚¹å‡»äº‹ä»¶ï¼Œæ£€æŸ¥æƒé™
    this.eventBus.on(WorkspaceEvent.nodeClicked, async (payload) => {
      const hasPermission = await this.domainService.checkPermission(
        payload.node,
        'view'
      )
      if (!hasPermission) {
        // è§¦å‘æƒé™æ‹’ç»äº‹ä»¶
        this.eventBus.emit(PermissionEvent.permissionDenied, {
          resource: payload.node,
          action: 'view'
        })
        return // é˜»æ­¢æ“ä½œ
      }
    })
    
    // ç›‘å¬è¡¨å•æäº¤äº‹ä»¶ï¼Œæ£€æŸ¥æƒé™
    this.eventBus.on(FormEvent.submitted, async (payload) => {
      const hasPermission = await this.domainService.checkPermission(
        payload.functionDetail,
        'submit'
      )
      if (!hasPermission) {
        this.eventBus.emit(PermissionEvent.permissionDenied, {
          resource: payload.functionDetail,
          action: 'submit'
        })
        return // é˜»æ­¢æäº¤
      }
    })
  }
}
```

**å¯¹ç°æœ‰ç»„ä»¶çš„å½±å“**ï¼š
- âœ… **é›¶å½±å“**ï¼šæƒé™ç³»ç»Ÿé€šè¿‡ç›‘å¬ç°æœ‰äº‹ä»¶å·¥ä½œï¼Œä¸éœ€è¦ä¿®æ”¹ç°æœ‰ç»„ä»¶
- âœ… **ç°æœ‰ç»„ä»¶ç»§ç»­æ­£å¸¸å·¥ä½œ**ï¼šæƒé™æ£€æŸ¥æ˜¯é€æ˜çš„ï¼Œä¸å½±å“ä¸šåŠ¡é€»è¾‘
- âœ… **å¯ä»¥éšæ—¶å¯ç”¨/ç¦ç”¨**ï¼šé€šè¿‡é…ç½®æ§åˆ¶æ˜¯å¦å¯ç”¨æƒé™ç³»ç»Ÿ
- âœ… **UI å±‚é¢å¯ä»¥ç›‘å¬æƒé™äº‹ä»¶**ï¼šæ˜¾ç¤ºæƒé™æç¤ºï¼Œéšè—æ— æƒé™çš„æ“ä½œæŒ‰é’®

### 2.3 å®šæ—¶ä»»åŠ¡ç³»ç»Ÿï¼ˆScheduled Task Systemï¼‰

#### 2.3.1 æ‰©å±•æ–¹æ¡ˆ

**æ¶æ„è®¾è®¡**ï¼š
```
Infrastructure Layer:
  - TaskSchedulerImplï¼ˆä»»åŠ¡è°ƒåº¦å™¨å®ç°ï¼‰
  - TaskQueueManagerï¼ˆä»»åŠ¡é˜Ÿåˆ—ç®¡ç†ï¼‰

Domain Layer:
  - TaskDomainServiceï¼ˆä»»åŠ¡ä¸šåŠ¡é€»è¾‘ï¼‰
  - å®šä¹‰ä»»åŠ¡ç›¸å…³æ¥å£

Application Layer:
  - TaskApplicationServiceï¼ˆä»»åŠ¡ä¸šåŠ¡æµç¨‹ç¼–æ’ï¼‰
  - ç›‘å¬ä»»åŠ¡åˆ›å»ºã€æ‰§è¡Œç­‰äº‹ä»¶

Presentation Layer:
  - TaskView.vueï¼ˆä»»åŠ¡ç®¡ç†ç•Œé¢ï¼‰
  - TaskWidget.vueï¼ˆä»»åŠ¡ç»„ä»¶ï¼‰
```

**å®ç°æ­¥éª¤**ï¼š
1. **åˆ›å»ºä»»åŠ¡é¢†åŸŸæœåŠ¡**ï¼š
```typescript
// domain/services/TaskDomainService.ts
export class TaskDomainService {
  constructor(
    private stateManager: IStateManager<TaskState>,
    private eventBus: IEventBus,
    private taskScheduler: ITaskScheduler
  ) {}
  
  async createTask(taskConfig: TaskConfig): Promise<Task> {
    // åˆ›å»ºä»»åŠ¡é€»è¾‘
  }
  
  async scheduleTask(taskId: string, schedule: Schedule): Promise<void> {
    // è°ƒåº¦ä»»åŠ¡é€»è¾‘
  }
}
```

2. **åˆ›å»ºä»»åŠ¡åº”ç”¨æœåŠ¡**ï¼š
```typescript
// application/services/TaskApplicationService.ts
export class TaskApplicationService {
  constructor(
    private domainService: TaskDomainService,
    private eventBus: IEventBus
  ) {
    this.setupEventHandlers()
  }
  
  private setupEventHandlers(): void {
    // ç›‘å¬ä»»åŠ¡åˆ›å»ºäº‹ä»¶
    this.eventBus.on(TaskEvent.taskCreated, async (payload) => {
      await this.handleTaskCreated(payload)
    })
    
    // ç›‘å¬å®šæ—¶ä»»åŠ¡æ‰§è¡Œäº‹ä»¶
    this.eventBus.on(TaskEvent.taskScheduled, async (payload) => {
      await this.domainService.executeTask(payload.taskId)
    })
  }
}
```

**å¯¹ç°æœ‰ç»„ä»¶çš„å½±å“**ï¼š
- âœ… **é›¶å½±å“**ï¼šå®šæ—¶ä»»åŠ¡ç³»ç»Ÿæ˜¯ç‹¬ç«‹çš„ï¼Œä¸å½±å“ç°æœ‰ç»„ä»¶
- âœ… **å¯ä»¥è§¦å‘ç°æœ‰äº‹ä»¶**ï¼šå®šæ—¶ä»»åŠ¡å¯ä»¥è§¦å‘è¡¨å•æäº¤ã€æ•°æ®æ›´æ–°ç­‰äº‹ä»¶
- âœ… **ç°æœ‰ç»„ä»¶å¯ä»¥ç›‘å¬ä»»åŠ¡äº‹ä»¶**ï¼šæ˜¾ç¤ºä»»åŠ¡çŠ¶æ€ã€æ‰§è¡Œç»“æœç­‰

### 2.4 ç”¨æˆ·è®¿é—®æ§åˆ¶ï¼ˆAccess Controlï¼‰

#### 2.4.1 æ‰©å±•æ–¹æ¡ˆ

**æ¶æ„è®¾è®¡**ï¼š
```
Infrastructure Layer:
  - AccessControlManagerImplï¼ˆè®¿é—®æ§åˆ¶ç®¡ç†å™¨å®ç°ï¼‰
  - AccessLogManagerï¼ˆè®¿é—®æ—¥å¿—ç®¡ç†ï¼‰

Domain Layer:
  - AccessControlDomainServiceï¼ˆè®¿é—®æ§åˆ¶ä¸šåŠ¡é€»è¾‘ï¼‰
  - å®šä¹‰è®¿é—®æ§åˆ¶ç›¸å…³æ¥å£

Application Layer:
  - AccessControlApplicationServiceï¼ˆè®¿é—®æ§åˆ¶ä¸šåŠ¡æµç¨‹ç¼–æ’ï¼‰
  - ç›‘å¬æ•°æ®è®¿é—®ã€æ“ä½œç­‰äº‹ä»¶ï¼Œè¿›è¡Œè®¿é—®æ§åˆ¶

Presentation Layer:
  - AccessControlView.vueï¼ˆè®¿é—®æ§åˆ¶ç®¡ç†ç•Œé¢ï¼‰
  - åœ¨ç°æœ‰ç»„ä»¶ä¸­é›†æˆè®¿é—®æ§åˆ¶ï¼ˆé€šè¿‡äº‹ä»¶ï¼‰
```

**å®ç°æ­¥éª¤**ï¼š
1. **åˆ›å»ºè®¿é—®æ§åˆ¶åº”ç”¨æœåŠ¡**ï¼š
```typescript
// application/services/AccessControlApplicationService.ts
export class AccessControlApplicationService {
  constructor(
    private domainService: AccessControlDomainService,
    private eventBus: IEventBus
  ) {
    this.setupEventHandlers()
  }
  
  private setupEventHandlers(): void {
    // ç›‘å¬æ•°æ®åŠ è½½äº‹ä»¶ï¼Œè¿›è¡Œè®¿é—®æ§åˆ¶
    this.eventBus.on(TableEvent.dataLoaded, async (payload) => {
      const filteredData = await this.domainService.filterDataByAccess(
        payload.data,
        payload.functionDetail
      )
      // è§¦å‘æ•°æ®è¿‡æ»¤åçš„äº‹ä»¶
      this.eventBus.emit(AccessControlEvent.dataFiltered, {
        originalData: payload.data,
        filteredData
      })
    })
    
    // ç›‘å¬æ•°æ®æ“ä½œäº‹ä»¶ï¼Œè¿›è¡Œè®¿é—®æ§åˆ¶
    this.eventBus.on(TableEvent.rowAdded, async (payload) => {
      const hasAccess = await this.domainService.checkAccess(
        payload.functionDetail,
        'create'
      )
      if (!hasAccess) {
        this.eventBus.emit(AccessControlEvent.accessDenied, {
          resource: payload.functionDetail,
          action: 'create'
        })
        return // é˜»æ­¢æ“ä½œ
      }
    })
  }
}
```

**å¯¹ç°æœ‰ç»„ä»¶çš„å½±å“**ï¼š
- âœ… **é›¶å½±å“**ï¼šè®¿é—®æ§åˆ¶ç³»ç»Ÿé€šè¿‡ç›‘å¬ç°æœ‰äº‹ä»¶å·¥ä½œï¼Œä¸éœ€è¦ä¿®æ”¹ç°æœ‰ç»„ä»¶
- âœ… **ç°æœ‰ç»„ä»¶ç»§ç»­æ­£å¸¸å·¥ä½œ**ï¼šè®¿é—®æ§åˆ¶æ˜¯é€æ˜çš„ï¼Œä¸å½±å“ä¸šåŠ¡é€»è¾‘
- âœ… **å¯ä»¥éšæ—¶å¯ç”¨/ç¦ç”¨**ï¼šé€šè¿‡é…ç½®æ§åˆ¶æ˜¯å¦å¯ç”¨è®¿é—®æ§åˆ¶

### 2.5 Clone åŠŸèƒ½

#### 2.5.1 æ‰©å±•æ–¹æ¡ˆ

**æ¶æ„è®¾è®¡**ï¼š
```
Infrastructure Layer:
  - CloneManagerImplï¼ˆå…‹éš†ç®¡ç†å™¨å®ç°ï¼‰

Domain Layer:
  - CloneDomainServiceï¼ˆå…‹éš†ä¸šåŠ¡é€»è¾‘ï¼‰
  - å®šä¹‰å…‹éš†ç›¸å…³æ¥å£

Application Layer:
  - CloneApplicationServiceï¼ˆå…‹éš†ä¸šåŠ¡æµç¨‹ç¼–æ’ï¼‰
  - ç›‘å¬å…‹éš†è¯·æ±‚äº‹ä»¶

Presentation Layer:
  - CloneView.vueï¼ˆå…‹éš†ç•Œé¢ï¼‰
  - åœ¨ç°æœ‰ç»„ä»¶ä¸­æ·»åŠ å…‹éš†æŒ‰é’®ï¼ˆé€šè¿‡äº‹ä»¶è§¦å‘ï¼‰
```

**å®ç°æ­¥éª¤**ï¼š
1. **åˆ›å»ºå…‹éš†é¢†åŸŸæœåŠ¡**ï¼š
```typescript
// domain/services/CloneDomainService.ts
export class CloneDomainService {
  constructor(
    private stateManager: IStateManager<CloneState>,
    private eventBus: IEventBus,
    private apiClient: IApiClient
  ) {}
  
  async cloneFunction(sourceFunction: FunctionDetail, targetPath: string): Promise<FunctionDetail> {
    // å…‹éš†å‡½æ•°é€»è¾‘
  }
  
  async cloneServiceTree(sourceTree: ServiceTree, targetPath: string): Promise<ServiceTree> {
    // å…‹éš†æœåŠ¡æ ‘é€»è¾‘
  }
}
```

2. **åˆ›å»ºå…‹éš†åº”ç”¨æœåŠ¡**ï¼š
```typescript
// application/services/CloneApplicationService.ts
export class CloneApplicationService {
  constructor(
    private domainService: CloneDomainService,
    private eventBus: IEventBus
  ) {
    this.setupEventHandlers()
  }
  
  private setupEventHandlers(): void {
    // ç›‘å¬å…‹éš†è¯·æ±‚äº‹ä»¶
    this.eventBus.on(CloneEvent.cloneRequested, async (payload) => {
      await this.handleCloneRequest(payload)
    })
  }
  
  async triggerClone(source: FunctionDetail | ServiceTree, targetPath: string): void {
    this.eventBus.emit(CloneEvent.cloneRequested, {
      source,
      targetPath
    })
  }
}
```

**å¯¹ç°æœ‰ç»„ä»¶çš„å½±å“**ï¼š
- âœ… **é›¶å½±å“**ï¼šClone åŠŸèƒ½æ˜¯ç‹¬ç«‹çš„ï¼Œä¸å½±å“ç°æœ‰ç»„ä»¶
- âœ… **å¯ä»¥é›†æˆåˆ°ç°æœ‰ UI**ï¼šåœ¨ç°æœ‰ç»„ä»¶ä¸­æ·»åŠ å…‹éš†æŒ‰é’®ï¼Œé€šè¿‡äº‹ä»¶è§¦å‘
- âœ… **ç°æœ‰ç»„ä»¶å¯ä»¥ç›‘å¬å…‹éš†äº‹ä»¶**ï¼šæ˜¾ç¤ºå…‹éš†è¿›åº¦ã€ç»“æœç­‰

---

## âœ… ä¸‰ã€è‡ªå®šä¹‰ç»„ä»¶æ‰©å±•æ–¹æ¡ˆ

### 3.1 æ·»åŠ æ–° Widget ç»„ä»¶

#### 3.1.1 æ‰©å±•æ­¥éª¤

**æ­¥éª¤ 1ï¼šåˆ›å»ºç»„ä»¶**
```vue
<!-- widgets-v2/components/CustomWidget.vue -->
<template>
  <div class="custom-widget">
    <!-- ç»„ä»¶å®ç° -->
  </div>
</template>

<script setup lang="ts">
import type { WidgetComponentProps } from '../types'

const props = defineProps<WidgetComponentProps>()
const emit = defineEmits<{
  'update:modelValue': [value: FieldValue]
}>()

// ç»„ä»¶é€»è¾‘
</script>
```

**æ­¥éª¤ 2ï¼šæ³¨å†Œç»„ä»¶**
```typescript
// factories-v2/index.ts
import CustomWidget from '../widgets-v2/components/CustomWidget.vue'

export function initializeWidgetComponentFactory(): void {
  // æ³¨å†Œè‡ªå®šä¹‰ç»„ä»¶
  widgetComponentFactory.registerRequestComponent('custom', CustomWidget)
  widgetComponentFactory.registerResponseComponent('custom', CustomWidget)
}
```

**æ­¥éª¤ 3ï¼šä½¿ç”¨ç»„ä»¶**
```typescript
// åç«¯é…ç½®ä¸­æŒ‡å®š widget.type = 'custom'
// å‰ç«¯è‡ªåŠ¨ä½¿ç”¨ CustomWidget ç»„ä»¶æ¸²æŸ“
```

**å¯¹ç°æœ‰ç»„ä»¶çš„å½±å“**ï¼š
- âœ… **é›¶å½±å“**ï¼šæ–°ç»„ä»¶é€šè¿‡å·¥å‚æ¨¡å¼æ³¨å†Œï¼Œä¸å½±å“ç°æœ‰ç»„ä»¶
- âœ… **ç°æœ‰ç»„ä»¶ç»§ç»­æ­£å¸¸å·¥ä½œ**ï¼šæ–°ç»„ä»¶æ˜¯ç‹¬ç«‹çš„
- âœ… **å¯ä»¥éšæ—¶æ·»åŠ /åˆ é™¤**ï¼šé€šè¿‡æ³¨å†Œ/å–æ¶ˆæ³¨å†Œæ§åˆ¶

### 3.2 æ·»åŠ æ–°çš„æ¸²æŸ“æ¨¡å¼

#### 3.2.1 æ‰©å±•æ­¥éª¤

**æ­¥éª¤ 1ï¼šåœ¨ç±»å‹å®šä¹‰ä¸­æ·»åŠ æ–°æ¨¡å¼**
```typescript
// widgets-v2/types.ts
export type WidgetMode = 
  | 'edit'           // ç¼–è¾‘æ¨¡å¼
  | 'response'       // å“åº”æ¨¡å¼
  | 'table-cell'     // è¡¨æ ¼å•å…ƒæ ¼æ¨¡å¼
  | 'detail'         // è¯¦æƒ…æ¨¡å¼
  | 'search'         // æœç´¢æ¨¡å¼
  | 'custom'         // è‡ªå®šä¹‰æ¨¡å¼ï¼ˆæ–°å¢ï¼‰
```

**æ­¥éª¤ 2ï¼šåœ¨ç»„ä»¶ä¸­å®ç°æ–°æ¨¡å¼**
```vue
<!-- widgets-v2/components/InputWidget.vue -->
<template>
  <!-- edit æ¨¡å¼ -->
  <el-input v-if="mode === 'edit'" ... />
  
  <!-- response æ¨¡å¼ -->
  <span v-else-if="mode === 'response'" ... />
  
  <!-- table-cell æ¨¡å¼ -->
  <span v-else-if="mode === 'table-cell'" ... />
  
  <!-- detail æ¨¡å¼ -->
  <div v-else-if="mode === 'detail'" ... />
  
  <!-- search æ¨¡å¼ -->
  <el-input v-else-if="mode === 'search'" ... />
  
  <!-- custom æ¨¡å¼ï¼ˆæ–°å¢ï¼‰ -->
  <div v-else-if="mode === 'custom'" class="custom-mode">
    <!-- è‡ªå®šä¹‰æ¸²æŸ“é€»è¾‘ -->
  </div>
</template>
```

**å¯¹ç°æœ‰ç»„ä»¶çš„å½±å“**ï¼š
- âœ… **é›¶å½±å“**ï¼šæ–°æ¨¡å¼æ˜¯æ‰©å±•çš„ï¼Œä¸å½±å“ç°æœ‰æ¨¡å¼
- âœ… **ç°æœ‰æ¨¡å¼ç»§ç»­æ­£å¸¸å·¥ä½œ**ï¼šæ–°æ¨¡å¼æ˜¯ç‹¬ç«‹çš„
- âœ… **å¯ä»¥éšæ—¶æ·»åŠ /åˆ é™¤**ï¼šé€šè¿‡ä¿®æ”¹ç»„ä»¶å®ç°æ§åˆ¶

---

## âœ… å››ã€æ‰©å±•æ€§ä¿è¯æœºåˆ¶

### 4.1 äº‹ä»¶é©±åŠ¨ä¿è¯éš”ç¦»

**æœºåˆ¶**ï¼š
- âœ… **æ‰€æœ‰é€šä¿¡éƒ½é€šè¿‡äº‹ä»¶æ€»çº¿**
- âœ… **æ–°åŠŸèƒ½ç›‘å¬ç°æœ‰äº‹ä»¶ï¼Œä¸å½±å“ç°æœ‰ä»£ç **
- âœ… **æ–°åŠŸèƒ½è§¦å‘æ–°äº‹ä»¶ï¼Œç°æœ‰ä»£ç ä¸å—å½±å“**

**ç¤ºä¾‹**ï¼š
```typescript
// æ–°å¢åŠŸèƒ½ç›‘å¬ç°æœ‰äº‹ä»¶
this.eventBus.on(FormEvent.submitted, (payload) => {
  // æ–°åŠŸèƒ½é€»è¾‘ï¼Œä¸å½±å“ç°æœ‰è¡¨å•æäº¤é€»è¾‘
})

// æ–°å¢åŠŸèƒ½è§¦å‘æ–°äº‹ä»¶
this.eventBus.emit(NewFeatureEvent.somethingHappened, { data })
```

### 4.2 æ¥å£ä¾èµ–ä¿è¯è§£è€¦

**æœºåˆ¶**ï¼š
- âœ… **æ‰€æœ‰å±‚éƒ½ä¾èµ–æ¥å£ï¼Œä¸ä¾èµ–å…·ä½“å®ç°**
- âœ… **å¯ä»¥è½»æ¾æ›¿æ¢å®ç°ï¼Œä¸å½±å“ä¸Šå±‚**
- âœ… **æ–°å¢åŠŸèƒ½åªéœ€å®ç°æ¥å£ï¼Œä¸å½±å“ç°æœ‰ä»£ç **

**ç¤ºä¾‹**ï¼š
```typescript
// æ–°å¢åŠŸèƒ½å®ç°æ¥å£
export class NewFeatureDomainService {
  constructor(
    private stateManager: IStateManager<NewState>,  // ä¾èµ–æ¥å£
    private eventBus: IEventBus                     // ä¾èµ–æ¥å£
  ) {}
}
```

### 4.3 å·¥å‚æ¨¡å¼ä¿è¯æ‰©å±•

**æœºåˆ¶**ï¼š
- âœ… **ç»„ä»¶é€šè¿‡å·¥å‚æ¨¡å¼æ³¨å†Œ**
- âœ… **æ–°å¢ç»„ä»¶åªéœ€æ³¨å†Œï¼Œä¸å½±å“ç°æœ‰ç»„ä»¶**
- âœ… **å¯ä»¥éšæ—¶æ·»åŠ /åˆ é™¤ç»„ä»¶**

**ç¤ºä¾‹**ï¼š
```typescript
// æ–°å¢ç»„ä»¶æ³¨å†Œ
widgetComponentFactory.registerRequestComponent('new-widget', NewWidget)
```

### 4.4 åˆ†å±‚æ¶æ„ä¿è¯éš”ç¦»

**æœºåˆ¶**ï¼š
- âœ… **æ¯å±‚èŒè´£æ¸…æ™°ï¼Œäº’ä¸å¹²æ‰°**
- âœ… **æ–°å¢åŠŸèƒ½åœ¨å¯¹åº”å±‚å®ç°ï¼Œä¸å½±å“å…¶ä»–å±‚**
- âœ… **å¯ä»¥è½»æ¾æ·»åŠ æ–°çš„ Domain Serviceã€Application Serviceã€View**

**ç¤ºä¾‹**ï¼š
```typescript
// æ–°å¢åŠŸèƒ½åœ¨å„å±‚å®ç°
// Infrastructure Layer: å®ç°æŠ€æœ¯èƒ½åŠ›
// Domain Layer: å®ç°ä¸šåŠ¡é€»è¾‘
// Application Layer: ç¼–æ’ä¸šåŠ¡æµç¨‹
// Presentation Layer: å®ç° UI ç•Œé¢
```

---

## âœ… äº”ã€å¯¹ç°æœ‰ç»„ä»¶çš„å½±å“è¯„ä¼°

### 5.1 é›¶å½±å“åœºæ™¯

ä»¥ä¸‹åœºæ™¯å¯¹ç°æœ‰ç»„ä»¶**é›¶å½±å“**ï¼š

1. **æ–°å¢ç‹¬ç«‹åŠŸèƒ½**ï¼ˆæµç¨‹ç³»ç»Ÿã€å®šæ—¶ä»»åŠ¡ç­‰ï¼‰
   - âœ… é€šè¿‡äº‹ä»¶é©±åŠ¨ï¼Œç›‘å¬ç°æœ‰äº‹ä»¶
   - âœ… ä¸ä¿®æ”¹ç°æœ‰ç»„ä»¶ä»£ç 
   - âœ… ç°æœ‰ç»„ä»¶ç»§ç»­æ­£å¸¸å·¥ä½œ

2. **æ–°å¢ Widget ç»„ä»¶**
   - âœ… é€šè¿‡å·¥å‚æ¨¡å¼æ³¨å†Œ
   - âœ… ä¸å½±å“ç°æœ‰ç»„ä»¶
   - âœ… ç°æœ‰ç»„ä»¶ç»§ç»­æ­£å¸¸å·¥ä½œ

3. **æ–°å¢æ¸²æŸ“æ¨¡å¼**
   - âœ… åœ¨ç»„ä»¶ä¸­æ·»åŠ æ–°æ¨¡å¼
   - âœ… ä¸å½±å“ç°æœ‰æ¨¡å¼
   - âœ… ç°æœ‰æ¨¡å¼ç»§ç»­æ­£å¸¸å·¥ä½œ

4. **æ–°å¢ Domain Serviceã€Application Service**
   - âœ… ä¾èµ–æ¥å£ï¼Œä¸ä¾èµ–å…·ä½“å®ç°
   - âœ… ä¸å½±å“ç°æœ‰æœåŠ¡
   - âœ… ç°æœ‰æœåŠ¡ç»§ç»­æ­£å¸¸å·¥ä½œ

### 5.2 æœ€å°å½±å“åœºæ™¯

ä»¥ä¸‹åœºæ™¯å¯¹ç°æœ‰ç»„ä»¶**å½±å“æœ€å°**ï¼š

1. **æƒé™ç³»ç»Ÿã€è®¿é—®æ§åˆ¶ç³»ç»Ÿ**
   - âš ï¸ **UI å±‚é¢å¯èƒ½éœ€è¦è°ƒæ•´**ï¼šéšè—æ— æƒé™çš„æ“ä½œæŒ‰é’®
   - âœ… **ä¸šåŠ¡é€»è¾‘é›¶å½±å“**ï¼šé€šè¿‡äº‹ä»¶ç›‘å¬ï¼Œä¸ä¿®æ”¹ç°æœ‰ä»£ç 
   - âœ… **å¯ä»¥éšæ—¶å¯ç”¨/ç¦ç”¨**ï¼šé€šè¿‡é…ç½®æ§åˆ¶

2. **æ•°æ®è¿‡æ»¤ã€æ•°æ®è½¬æ¢**
   - âš ï¸ **å¯èƒ½éœ€è¦è°ƒæ•´æ•°æ®æµ**ï¼šåœ¨äº‹ä»¶å¤„ç†ä¸­æ·»åŠ è¿‡æ»¤é€»è¾‘
   - âœ… **ä¸å½±å“ç°æœ‰ç»„ä»¶**ï¼šé€šè¿‡äº‹ä»¶ç›‘å¬ï¼Œä¸ä¿®æ”¹ç°æœ‰ä»£ç 
   - âœ… **å¯ä»¥éšæ—¶å¯ç”¨/ç¦ç”¨**ï¼šé€šè¿‡é…ç½®æ§åˆ¶

### 5.3 éœ€è¦åè°ƒçš„åœºæ™¯

ä»¥ä¸‹åœºæ™¯éœ€è¦**åè°ƒç°æœ‰ç»„ä»¶**ï¼š

1. **é‡å¤§ä¸šåŠ¡é€»è¾‘å˜æ›´**
   - âš ï¸ **å¯èƒ½éœ€è¦ä¿®æ”¹ Domain Service**ï¼šå¦‚æœä¸šåŠ¡é€»è¾‘å‘ç”Ÿé‡å¤§å˜åŒ–
   - âœ… **ä¸å½±å“ç»„ä»¶æ¸²æŸ“**ï¼šç»„ä»¶åªè´Ÿè´£ UIï¼Œä¸åŒ…å«ä¸šåŠ¡é€»è¾‘
   - âœ… **é€šè¿‡äº‹ä»¶é©±åŠ¨**ï¼šå¯ä»¥å¹³æ»‘è¿‡æ¸¡

2. **æ•°æ®ç»“æ„å˜æ›´**
   - âš ï¸ **å¯èƒ½éœ€è¦è°ƒæ•´ç±»å‹å®šä¹‰**ï¼šå¦‚æœæ•°æ®ç»“æ„å‘ç”Ÿé‡å¤§å˜åŒ–
   - âœ… **ä¸å½±å“ç»„ä»¶æ¸²æŸ“**ï¼šç»„ä»¶é€šè¿‡æ¥å£è·å–æ•°æ®ï¼Œä¸ç›´æ¥ä¾èµ–æ•°æ®ç»“æ„
   - âœ… **é€šè¿‡é€‚é…å™¨æ¨¡å¼**ï¼šå¯ä»¥å¹³æ»‘è¿‡æ¸¡

---

## ğŸ¯ å…­ã€æ€»ç»“

### 6.1 æ‰©å±•æ€§è¯„ä¼°

**æ€»ä½“è¯„ä»·**ï¼šâœ… **æ–°æ¶æ„å…·æœ‰ä¼˜ç§€çš„æ‰©å±•æ€§**

**å…³é”®ä¼˜åŠ¿**ï¼š
1. âœ… **äº‹ä»¶é©±åŠ¨æ¶æ„**ï¼šæ–°åŠŸèƒ½å¯ä»¥ç›‘å¬ç°æœ‰äº‹ä»¶ï¼Œä¸å½±å“ç°æœ‰ä»£ç 
2. âœ… **ä¾èµ–å€’ç½®åŸåˆ™**ï¼šæ‰€æœ‰å±‚éƒ½ä¾èµ–æ¥å£ï¼Œå¯ä»¥è½»æ¾æ›¿æ¢å®ç°
3. âœ… **å¼€é—­åŸåˆ™**ï¼šå¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å…³é—­
4. âœ… **å·¥å‚æ¨¡å¼**ï¼šç»„ä»¶é€šè¿‡å·¥å‚æ³¨å†Œï¼Œæ˜“äºæ‰©å±•
5. âœ… **åˆ†å±‚æ¶æ„**ï¼šæ¯å±‚èŒè´£æ¸…æ™°ï¼Œäº’ä¸å¹²æ‰°

### 6.2 ä¼ä¸šçº§åŠŸèƒ½æ”¯æŒ

**æ”¯æŒæƒ…å†µ**ï¼š
- âœ… **æµç¨‹ç³»ç»Ÿ**ï¼šå®Œå…¨æ”¯æŒï¼Œé›¶å½±å“ç°æœ‰ç»„ä»¶
- âœ… **æƒé™ç³»ç»Ÿ**ï¼šå®Œå…¨æ”¯æŒï¼Œé›¶å½±å“ç°æœ‰ç»„ä»¶
- âœ… **å®šæ—¶ä»»åŠ¡**ï¼šå®Œå…¨æ”¯æŒï¼Œé›¶å½±å“ç°æœ‰ç»„ä»¶
- âœ… **è®¿é—®æ§åˆ¶**ï¼šå®Œå…¨æ”¯æŒï¼Œé›¶å½±å“ç°æœ‰ç»„ä»¶
- âœ… **Clone åŠŸèƒ½**ï¼šå®Œå…¨æ”¯æŒï¼Œé›¶å½±å“ç°æœ‰ç»„ä»¶

### 6.3 è‡ªå®šä¹‰ç»„ä»¶æ”¯æŒ

**æ”¯æŒæƒ…å†µ**ï¼š
- âœ… **æ·»åŠ æ–° Widget ç»„ä»¶**ï¼šå®Œå…¨æ”¯æŒï¼Œé›¶å½±å“ç°æœ‰ç»„ä»¶
- âœ… **æ·»åŠ æ–°æ¸²æŸ“æ¨¡å¼**ï¼šå®Œå…¨æ”¯æŒï¼Œé›¶å½±å“ç°æœ‰ç»„ä»¶
- âœ… **æ‰©å±•ç°æœ‰ç»„ä»¶**ï¼šå®Œå…¨æ”¯æŒï¼Œä¸å½±å“å…¶ä»–ç»„ä»¶

### 6.4 å¯¹ç°æœ‰ç»„ä»¶çš„å½±å“

**å½±å“è¯„ä¼°**ï¼š
- âœ… **é›¶å½±å“åœºæ™¯**ï¼š90% ä»¥ä¸Šçš„æ‰©å±•åœºæ™¯
- âš ï¸ **æœ€å°å½±å“åœºæ™¯**ï¼š5% å·¦å³çš„æ‰©å±•åœºæ™¯ï¼ˆä¸»è¦æ˜¯ UI è°ƒæ•´ï¼‰
- âš ï¸ **éœ€è¦åè°ƒåœºæ™¯**ï¼š5% å·¦å³çš„æ‰©å±•åœºæ™¯ï¼ˆé‡å¤§ä¸šåŠ¡é€»è¾‘å˜æ›´ï¼‰

### 6.5 å»ºè®®

1. **æ”¾å¿ƒæ‰©å±•**ï¼šæ–°æ¶æ„è®¾è®¡ä¼˜ç§€ï¼Œå¯ä»¥æ”¾å¿ƒæ·»åŠ ä¼ä¸šçº§åŠŸèƒ½
2. **éµå¾ªæ¶æ„åŸåˆ™**ï¼šæ–°å¢åŠŸèƒ½æ—¶éµå¾ªä¾èµ–å€’ç½®ã€äº‹ä»¶é©±åŠ¨ç­‰åŸåˆ™
3. **é€šè¿‡äº‹ä»¶é€šä¿¡**ï¼šæ–°åŠŸèƒ½é€šè¿‡äº‹ä»¶ç›‘å¬å’Œè§¦å‘ï¼Œä¸ç›´æ¥ä¿®æ”¹ç°æœ‰ä»£ç 
4. **æµ‹è¯•éªŒè¯**ï¼šæ–°å¢åŠŸèƒ½åï¼Œå……åˆ†æµ‹è¯•éªŒè¯ï¼Œç¡®ä¿ä¸å½±å“ç°æœ‰åŠŸèƒ½

---

## ğŸ“ é™„å½•

### A. æ‰©å±•åŠŸèƒ½ç¤ºä¾‹ä»£ç 

è¯¦ç»†ç¤ºä¾‹ä»£ç è¯·å‚è€ƒï¼š
- `blueprint/æ–°æ¶æ„è®¾è®¡æ–¹æ¡ˆ.md` - å®Œæ•´æ¶æ„è®¾è®¡æ–‡æ¡£
- `blueprint/æ–°æ¶æ„å®ç°æ€»ç»“.md` - å®ç°æ€»ç»“å’Œç¤ºä¾‹

### B. ç›¸å…³æ–‡æ¡£

- [æ–°æ¶æ„è®¾è®¡æ–¹æ¡ˆ](../../blueprint/æ–°æ¶æ„è®¾è®¡æ–¹æ¡ˆ.md)
- [æ–°æ¶æ„å®ç°æ€»ç»“](../../blueprint/æ–°æ¶æ„å®ç°æ€»ç»“.md)
- [æ–°ç‰ˆæœ¬è¿ç§»æ•ˆæœåˆ†ææŠ¥å‘Š](./æ–°ç‰ˆæœ¬è¿ç§»æ•ˆæœåˆ†ææŠ¥å‘Š.md)

