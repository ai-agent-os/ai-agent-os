# å¼€å‘å·¥å…·é…ç½®

## ğŸ”¥ åç«¯çƒ­é‡è½½ï¼ˆAirï¼‰

### å®‰è£… Air

```bash
go install github.com/air-verse/air@latest
```

### ä½¿ç”¨ Air

```bash
# å¯åŠ¨ app-storageï¼ˆçƒ­é‡è½½ï¼‰
cd /Users/beiluo/Documents/work/code/ai-agent-os
air -c .air.toml

# ç°åœ¨ä¿®æ”¹ä»£ç ï¼ŒAir ä¼šè‡ªåŠ¨é‡æ–°ç¼–è¯‘å¹¶é‡å¯æœåŠ¡ï¼âœ…
```

### Air é…ç½®

é…ç½®æ–‡ä»¶ï¼š`.air.toml`

**å…³é”®é…ç½®**ï¼š
```toml
[build]
  cmd = "go build -o ./tmp/main ./core/app-storage/cmd/app"
  exclude_dir = ["assets", "tmp", "vendor", "web", "node_modules"]
  include_ext = ["go", "tpl", "tmpl", "html"]
  delay = 1000  # ç¼–è¯‘å»¶è¿Ÿ 1 ç§’
```

**æ•ˆæœ**ï¼š
- ä¿®æ”¹ Go ä»£ç  â†’ è‡ªåŠ¨æ£€æµ‹
- è‡ªåŠ¨é‡æ–°ç¼–è¯‘ â†’ ä¸åˆ° 1 ç§’
- è‡ªåŠ¨é‡å¯æœåŠ¡ â†’ æ— éœ€æ‰‹åŠ¨é‡å¯

---

## ğŸš€ å‰ç«¯çƒ­é‡è½½ï¼ˆViteï¼‰

å‰ç«¯å·²ç»æ”¯æŒçƒ­é‡è½½ï¼Œä¿®æ”¹ä»£ç è‡ªåŠ¨åˆ·æ–°ï¼š

```bash
cd web
npm run dev  # å¯åŠ¨å¼€å‘æœåŠ¡å™¨

# ä¿®æ”¹ Vue/TS ä»£ç  â†’ è‡ªåŠ¨çƒ­æ›´æ–° âœ…
```

---

## ğŸ“Š å®Œæ•´å¼€å‘æµç¨‹

### å¯åŠ¨æ‰€æœ‰æœåŠ¡

```bash
# Terminal 1: å¯åŠ¨ MinIO
podman start minio

# Terminal 2: å¯åŠ¨ app-storageï¼ˆçƒ­é‡è½½ï¼‰
cd /Users/beiluo/Documents/work/code/ai-agent-os
air -c .air.toml

# Terminal 3: å¯åŠ¨ app-server
./bin/app-server

# Terminal 4: å¯åŠ¨å‰ç«¯å¼€å‘æœåŠ¡å™¨
cd web
npm run dev
```

### å¼€å‘ä½“éªŒ

**åç«¯ï¼ˆGoï¼‰**ï¼š
- âœ… ä¿®æ”¹ä»£ç  â†’ Air è‡ªåŠ¨é‡æ–°ç¼–è¯‘å¹¶é‡å¯
- âœ… æ— éœ€æ‰‹åŠ¨ `go build` + é‡å¯

**å‰ç«¯ï¼ˆVueï¼‰**ï¼š
- âœ… ä¿®æ”¹ä»£ç  â†’ Vite è‡ªåŠ¨çƒ­æ›´æ–°
- âœ… æµè§ˆå™¨æ— éœ€åˆ·æ–°

---

## ğŸ› ï¸ å…¶ä»–å¼€å‘å·¥å…·

### 1. ä»£ç æ ¼å¼åŒ–

**Go**ï¼š
```bash
# æ ¼å¼åŒ–æ‰€æœ‰ Go æ–‡ä»¶
go fmt ./...

# æˆ–ä½¿ç”¨ goimports
go install golang.org/x/tools/cmd/goimports@latest
goimports -w .
```

**å‰ç«¯**ï¼š
```bash
cd web
npm run lint  # ESLint
npm run format  # Prettier
```

### 2. æ•°æ®åº“ç®¡ç†

**æŸ¥çœ‹ MySQL æ•°æ®**ï¼š
```bash
mysql -h localhost -u root -p ai-agent-os
```

**æŸ¥çœ‹ä¸Šä¼ è®°å½•**ï¼š
```sql
SELECT * FROM file_uploads ORDER BY uploaded_at DESC LIMIT 10;
```

### 3. MinIO ç®¡ç†

**æµè§ˆå™¨è®¿é—®**ï¼š
```
http://localhost:9001
ç”¨æˆ·å: minioadmin
å¯†ç : minioadmin123
```

---

## ğŸ“ å¼€å‘å»ºè®®

### 1. ä½¿ç”¨ Air çƒ­é‡è½½

**ä¼˜åŠ¿**ï¼š
- èŠ‚çœæ—¶é—´ï¼ˆæ— éœ€æ‰‹åŠ¨é‡å¯ï¼‰
- æé«˜æ•ˆç‡ï¼ˆä¿®æ”¹ä»£ç ç«‹å³ç”Ÿæ•ˆï¼‰
- å‡å°‘é”™è¯¯ï¼ˆé¿å…å¿˜è®°é‡å¯ï¼‰

### 2. å¤šç»ˆç«¯ç®¡ç†

**æ¨èä½¿ç”¨ tmux æˆ– iTerm2 çš„åˆ†å±åŠŸèƒ½**ï¼š
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  app-storage    â”‚  app-server     â”‚
â”‚  (Air çƒ­é‡è½½)    â”‚                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  å‰ç«¯ (Vite)     â”‚  æ—¥å¿—ç›‘æ§        â”‚
â”‚                 â”‚  tail -f logs   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3. æ—¥å¿—ç›‘æ§

**å®æ—¶æŸ¥çœ‹æ—¥å¿—**ï¼š
```bash
# app-storage æ—¥å¿—
tail -f /tmp/app-storage.log

# app-server æ—¥å¿—
tail -f ./logs/app-server.log
```

---

## ğŸ¯ æ€»ç»“

1. âœ… **Air**ï¼šåç«¯ Go ä»£ç çƒ­é‡è½½ï¼ˆæ¨èï¼‰
2. âœ… **Vite**ï¼šå‰ç«¯ä»£ç çƒ­æ›´æ–°ï¼ˆå·²é…ç½®ï¼‰
3. âœ… **ä»£ç†é…ç½®**ï¼šå‰ç«¯è‡ªåŠ¨ä»£ç†åç«¯ API
4. âœ… **å¤šæœåŠ¡ç®¡ç†**ï¼šä½¿ç”¨å¤šç»ˆç«¯æˆ– tmux

**å®‰è£… Air åï¼Œå¼€å‘ä½“éªŒå°†å¤§å¹…æå‡ï¼** ğŸš€

