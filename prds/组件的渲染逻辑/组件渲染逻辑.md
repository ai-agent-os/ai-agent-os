
目前table 模版的响应参数其实是可以直接放到form模版进行渲染的，所以
我简单的分析一下一个参数的定义，他的几种行为和特征
```json

{
    "code": 0,
    "data": {
        "id": 89,
        "app_id": 92,
        "tree_id": 0,
        "method": "GET",
        "router": "/luobei/test88888/crm/crm_ticket",
        "has_config": false,
        "create_tables": "crm_ticket",
        "callbacks": "OnTableAddRow,OnTableUpdateRow,OnTableDeleteRows",
        "template_type": "table",
        "request": {},
        "response": [
            {
                "callbacks": null,
                "children": null,
                "code": "id",
                "data": {
                    "example": "",
                    "format": "",
                    "type": "int"
                },
                "desc": "",
                "field_name": "ID",
                "name": "ID",
                "search": "",
                "table_permission": "read",
                "validation": "",
                "widget": {
                    "config": {},
                    "type": "ID"
                }
            },
            {
                "callbacks": null,
                "children": null,
                "code": "created_at",
                "data": {
                    "example": "",
                    "format": "",
                    "type": "int"
                },
                "desc": "",
                "field_name": "CreatedAt",
                "name": "创建时间",
                "search": "",
                "table_permission": "read",
                "validation": "",
                "widget": {
                    "config": {
                        "disabled": false,
                        "format": "YYYY-MM-DD HH:mm:ss"
                    },
                    "type": "timestamp"
                }
            },
   
            {
                "callbacks": null,
                "children": null,
                "code": "title",
                "data": {
                    "example": "",
                    "format": "",
                    "type": "string"
                },
                "desc": "",
                "field_name": "Title",
                "name": "工单标题",
                "search": "like",
                "table_permission": "",
                "validation": "required,min=2,max=200",
                "widget": {
                    "config": {
                        "append": "",
                        "default": "",
                        "password": false,
                        "placeholder": "",
                        "prepend": ""
                    },
                    "type": "input"
                }
            },
            {
                "callbacks": null,
                "children": null,
                "code": "priority",
                "data": {
                    "example": "",
                    "format": "",
                    "type": "string"
                },
                "desc": "",
                "field_name": "Priority",
                "name": "优先级",
                "search": "",
                "table_permission": "",
                "validation": "required,oneof=低,中,高",
                "widget": {
                    "config": {
                        "creatable": false,
                        "default": "中",
                        "options": [
                            "低",
                            "中",
                            "高"
                        ],
                        "placeholder": ""
                    },
                    "type": "select"
                }
            },
    

            {
                "callbacks": null,
                "children": null,
                "code": "attachment",
                "data": {
                    "example": "",
                    "format": "",
                    "type": "struct"
                },
                "desc": "",
                "field_name": "Attachment",
                "name": "附件",
                "search": "",
                "table_permission": "",
                "validation": "",
                "widget": {
                    "config": {
                        "accept": "",
                        "max_count": 0,
                        "max_size": ""
                    },
                    "type": "files"
                }
            },
            {
                "callbacks": null,
                "children": null,
                "code": "create_by",
                "data": {
                    "example": "",
                    "format": "",
                    "type": "string"
                },
                "desc": "",
                "field_name": "CreateBy",
                "name": "创建用户",
                "search": "",
                "table_permission": "read",
                "validation": "",
                "widget": {
                    "config": {},
                    "type": "user"
                }
            }
        ],
        "created_at": "2025-11-04T11:21:23Z",
        "updated_at": "2025-11-04T11:21:23Z",
        "full_code_path": ""
    },
    "msg": "成功",
    "metadata": null
}
```
看上面的response 组件，其实这个在新增数据时候我们是直接把response的定义当作form的request来用，这样直接渲染成输入的表单进行table数据的输入，输入后可以提交然后就新增记录成功
然后此时我们组件在不同的场景有了几种多态行为

例如
在form模版的请求参数时候怎么展示？因为我们要输入
在form模版的输出参数中时候我们怎么展示？因为我们要显示
在table模版的列表中怎么展示呢？因为我们是在element-plus的表格里显示，所以需要展示的更人性化
在table模版的列表中点击查看详情时候怎么展示呢？

我们随便拿一个组件来举例，例如

timestamp
这个组件，在form的请求参数中时候肯定是一个时间日期选择器，可以根据format来渲染成组件可以选择
但是在输出参数时候，肯定不能选择了，我们取而代之的是把时间戳渲染成可以阅读的时间日期，方便用户看
在table的列表中展示也是展示格式化后的效果
详情中展示也是展示格式化后的效果
onCopy 当复制时候复制什么呢？默认这个复制格式化后的值


files 组件一样
在form的请求参数中时候肯定是一个文件选择器，可以上传文件
但是在form的输出参数中时候肯定是无法上传文件，而是提供更多下载相关的功能，例如打包下载，预览等等，主要倾向于展示和下载
在table的列表中展示也是展示一个table专属的文件列表展示效果，因为form的可能太大了不太方便在table展示
详情中可能又需要展示另一种形态



table组件
例如我们的form模版里可能有一个table参数，然后里面在包含一个form字段
这下就好比

选购清单这种场景,在form模版中时候，我们这个orders后续肯定是可以通过excel导入来解析字段的，
```json
{
  "orders": [
    {
      "product":"xxx",
      "count":1
    }
  ]
}
```
这种场景是啥吧，就是假如这个选购清单要100个人填写，这样的话，我们最好的做法就是在这个字段的导出按钮点击一下导出一个excel模版，然后把模版发群里让这些人填一下，然后填好后我们把excel导入
这样直接有了100条数据，省的输入了，这样方便，可以协同编辑，当然我们也可以输出这样的表格，同样支持输出excel，例如同样的结构返回到输出参数我们希望也能导出成excel，方便是吧？



user组件也一样，后续输入参数肯定是一个用户选择器
输出参数肯定展示的是一个用户的信息，可以点击看详情之类的，所以他的不同场景渲染不同


然后还有一个场景就是我们的分享视图功能，就是我们需要每个组件都能生成自己的视图数据，然后还需要有个根据视图数据来反向把数据初始化到表单的功能，这应该又是两个方法？
另外还有就是，在table模版里点击编辑时候我们把已经存在的值带过去，让form来初始化数据并渲染这个是通过那种表单结构的数据进行渲染的，所以他和视图数据还不太一样，因为视图数据还会保存很多其他的信息，例如
我们当时的聚合数据信息，等等

最后说一下，我想表达的是，我们每个组件都有各种形态，他不同场景都有需要多态的需求，这个和组件无关，及时我们不提具体组件，我们所说的依然成立，不同组件，在不同场景，表现不同，所以我的想法是我们的组件要高度抽象，把所有的场景都想出来，
然后像go的接口一样，我们针对每个组件编写自己的实现，后续我们的render，再渲染时候，彻底不关心任何组件类型了，我们只管调用方法，即可，高度抽象，依赖倒置，懂吗？
